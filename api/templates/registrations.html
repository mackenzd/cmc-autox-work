<html>
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        width: 11in;
        height: 8.5in;
      }
      @page {
        size: 11in 8.5in;
      }
      .assigned {
        grid-template-rows: repeat(14, minmax(0, 1fr));
      }
      .unassigned {
        grid-template-rows: repeat(31, minmax(0, 1fr));
      }
    </style>
  </head>
  <body class="bg-white max-h-[8in]">
    <div id="header" class="border-black border-b">
      <div class="font-bold text-center pb-1">
        {{ title if title is not none }} {{ (" -- " + segment) if segment is not none }}
      </div>
    </div>
    <div id="registrations" class="grid grid-cols-2 gap-2 text-sm">
      <div class="border-black border-r">
        <div class="font-bold py-1">Assignments by Run Group</div>
        {% for run_group, data in assigned_users_by_run_group.items() %}
        <div class="pb-2">
          <div class="border-black border-b font-bold mb-2">
            {{ run_group }} <span class="font-normal italic">({{ data['count'] }})</span>
          </div>
          <div class="grid grid-flow-col gap-1 assigned">
            {% for user in data['users'] %}
            <div>
              ___ {{ user['lastName'] }}, {{ user['firstName'] }} {{ "#" +
              user['vehicleNumber'] if user['vehicleNumber'] is not none }}
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
      <div>
        <div class="font-bold py-1">Unassigned</div>
        <div class="grid grid-flow-col gap-1 unassigned">
          {% for user in unassigned_users %}
          <div>
            ___ {{ user['lastName'] }}, {{ user['firstName']}} {{ "#" +
            user['vehicleNumber'] if user['vehicleNumber'] is not none }}
          </div>
          {% endfor %}
          </div>
      </div>
    </div>
  </body>
</html>
